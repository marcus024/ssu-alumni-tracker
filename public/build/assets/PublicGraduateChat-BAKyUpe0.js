import{r as n,j as e,H as x,L as m}from"./app-CFYMpo2v.js";import{H as h,F as u}from"./Footer-CH8umoqY.js";function y({graduate:r,messages:a}){const[i,d]=n.useState(!1);n.useEffect(()=>{const t=localStorage.getItem("theme"),s=window.matchMedia("(prefers-color-scheme: dark)").matches;t==="dark"||!t&&s?(d(!0),document.documentElement.classList.add("dark")):(d(!1),document.documentElement.classList.remove("dark"))},[]);const c=()=>{d(!i),i?(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light")):(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark"))},o=t=>{const s=new Date(t),l=new Date;return(l.getTime()-s.getTime())/(1e3*60*60)<24?s.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}):s.toLocaleDateString("en-US",{month:"short",day:"numeric",year:s.getFullYear()!==l.getFullYear()?"numeric":void 0})};return e.jsxs(e.Fragment,{children:[e.jsx(x,{title:`Public Chat - ${r.name}`}),e.jsx(h,{isDark:i,toggleTheme:c}),e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:e.jsx("div",{className:"container mx-auto px-4 py-6",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[r.profile_picture?e.jsx("img",{src:`/uploads/${r.profile_picture}`,alt:r.name,className:"w-16 h-16 rounded-full object-cover border-2 border-blue-500"}):e.jsx("div",{className:"w-16 h-16 rounded-full bg-blue-600 flex items-center justify-center text-white font-bold text-xl",children:r.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.name}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Class of ",r.year," â€¢ ",r.course]})]})]})})}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Public Discussion"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:["View the public conversation thread with ",r.name,". For privacy, sender names and emails are anonymized showing only initials."]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Course"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:r.course})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Current Position"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:r.current_work})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),"Public Discussion (",a.length,")"]}),e.jsx(m,{href:"/#graduates",className:"text-sm text-blue-600 dark:text-blue-400 hover:underline",children:"Back to Graduates"})]}),a.length>0?e.jsx("div",{className:"space-y-4",children:a.map((t,s)=>e.jsx("div",{className:`flex ${t.is_from_graduate?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-[75%] rounded-lg p-4 ${t.is_from_graduate?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white"}`,children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold mr-2 ${t.is_from_graduate?"bg-blue-500 text-white":"bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300"}`,children:t.is_from_graduate?r.name.charAt(0).toUpperCase():t.sender_initials.split(" ")[0].charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-semibold ${t.is_from_graduate?"text-blue-100":"text-gray-700 dark:text-gray-300"}`,children:t.is_from_graduate?r.name:t.sender_initials}),!t.is_from_graduate&&e.jsx("p",{className:`text-xs ${t.is_from_graduate?"text-blue-200":"text-gray-500 dark:text-gray-400"}`,children:t.sender_email_preview})]})]}),e.jsx("p",{className:"whitespace-pre-wrap mb-2",children:t.message}),e.jsx("p",{className:`text-xs ${t.is_from_graduate?"text-blue-200":"text-gray-500 dark:text-gray-400"}`,children:o(t.created_at)})]})},t.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-400 dark:text-gray-500 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg",children:"No messages yet. Be the first to start a conversation!"})]})]})]})})]}),e.jsx(u,{})]})}export{y as default};
