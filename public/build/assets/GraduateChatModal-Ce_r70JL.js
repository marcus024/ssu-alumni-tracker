import{r as n,j as e,a as h}from"./app-DUvDLONx.js";function y({isOpen:g,onClose:d,graduate:a}){const[s,l]=n.useState({sender_name:"",sender_email:"",message:""}),[i,o]=n.useState(!1),[c,u]=n.useState(""),[r,x]=n.useState({});if(!g)return null;const b=t=>{t.preventDefault(),o(!0),x({}),u(""),h.post("/messages/send",{graduate_id:a.id,...s},{preserveScroll:!0,preserveState:!0,onSuccess:()=>{l({sender_name:"",sender_email:"",message:""}),d()},onError:m=>{console.error("Error sending message:",m),x(m||{general:"An error occurred. Please try again."})},onFinish:()=>{o(!1)}})};return e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:d}),e.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full p-6 z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[a.profile_picture?e.jsx("img",{src:`/uploads/${a.profile_picture}`,alt:a.name,className:"w-12 h-12 rounded-full object-cover border-2 border-blue-500"}):e.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-600 flex items-center justify-center text-white font-bold text-lg",children:a.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Send Message"}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["to ",a.name]})]})]}),e.jsx("button",{onClick:d,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c&&e.jsx("div",{className:"mb-4 p-3 bg-green-100 dark:bg-green-900/30 border border-green-400 dark:border-green-700 rounded-lg text-green-700 dark:text-green-400 text-sm",children:c}),r.general&&e.jsx("div",{className:"mb-4 p-3 bg-red-100 dark:bg-red-900/30 border border-red-400 dark:border-red-700 rounded-lg text-red-700 dark:text-red-400 text-sm",children:r.general}),e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Your Name"}),e.jsx("input",{type:"text",value:s.sender_name,onChange:t=>l({...s,sender_name:t.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",required:!0}),r.sender_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:r.sender_name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Your Email"}),e.jsx("input",{type:"email",value:s.sender_email,onChange:t=>l({...s,sender_email:t.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",required:!0}),r.sender_email&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:r.sender_email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Message"}),e.jsx("textarea",{value:s.message,onChange:t=>l({...s,message:t.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white resize-none",required:!0}),r.message&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:r.message})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:d,className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:i,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-blue-400 disabled:cursor-not-allowed transition-colors",children:i?"Sending...":"Send Message"})]})]})]})]})})}export{y as G};
