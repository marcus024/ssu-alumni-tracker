import{r as o,j as e,H as u,L as y,a as s}from"./app-D6hbeRN8.js";import{A as j}from"./AdminLayout-D6eraqrV.js";import{T as b,e as v}from"./exportHelpers-gwCBeN3n.js";import"./TextInput-DQKJ5DmL.js";const f={pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",reviewing:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",shortlisted:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",interview:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200",offered:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",rejected:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"};function S({applications:r,filters:d={}}){const[l,i]=o.useState(d.search||""),[n,x]=o.useState(d.status||""),c=(t,a)=>{s.patch(route("admin.job-applications.updateStatus",t),{status:a})},p=t=>{i(t),s.get(route("admin.job-applications.index"),{search:t,status:n},{preserveState:!0})},h=t=>{x(t),s.get(route("admin.job-applications.index"),{search:l,status:t},{preserveState:!0})},g=()=>{i(""),x(""),s.get(route("admin.job-applications.index"))},m=()=>{const t=r.data.map(a=>({applicant_name:a.applicant_name,applicant_email:a.applicant_email,applicant_phone:a.applicant_phone,job_position:a.job_post?.title||"",company:a.job_post?.company||"",status:a.status,applied_date:new Date(a.created_at).toLocaleDateString()}));v(t,["applicant_name","applicant_email","applicant_phone","job_position","company","status","applied_date"],"job_applications")};return e.jsxs(j,{header:"Job Applications",children:[e.jsx(u,{title:"Job Applications"}),e.jsx(b,{searchValue:l,onSearchChange:p,searchPlaceholder:"Search by name, email, or phone...",filters:[{name:"status",label:"Filter by Status",value:n,onChange:h,options:[{value:"pending",label:"Pending"},{value:"reviewing",label:"Reviewing"},{value:"shortlisted",label:"Shortlisted"},{value:"interview",label:"Interview"},{value:"offered",label:"Offered"},{value:"rejected",label:"Rejected"}]}],onExport:m,onClear:g}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-sm rounded-lg overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:"Applicant"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:"Job Position"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:"Contact"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:"Applied On"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:r.data.map(t=>e.jsxs("tr",{children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t.applicant_name}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:t.applicant_email})]}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:t.job_post?.title}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:t.job_post?.company})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:t.applicant_phone}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:new Date(t.created_at).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("select",{value:t.status,onChange:a=>c(t.id,a.target.value),className:`px-2 py-1 text-xs font-semibold rounded-full ${f[t.status]}`,children:[e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"reviewing",children:"Reviewing"}),e.jsx("option",{value:"shortlisted",children:"Shortlisted"}),e.jsx("option",{value:"interview",children:"Interview"}),e.jsx("option",{value:"offered",children:"Offered"}),e.jsx("option",{value:"rejected",children:"Rejected"})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:[e.jsx(y,{href:route("admin.job-applications.show",t.id),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400",children:"View Details"}),t.resume_path&&e.jsx("a",{href:`/uploads/${t.resume_path}`,target:"_blank",rel:"noopener noreferrer",className:"ml-3 text-green-600 hover:text-green-900 dark:text-green-400",children:"Resume"})]})]},t.id))})]})}),r.last_page>1&&e.jsx("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300 text-center",children:["Showing ",r.data.length," of ",r.total," applications"]})}),r.data.length===0&&e.jsx("div",{className:"px-6 py-12 text-center",children:e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No job applications yet."})})]})]})}export{S as default};
