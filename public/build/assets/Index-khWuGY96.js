import{r as n,j as e,H as j,L as l,a as c}from"./app-3zeDucx5.js";import{A as p}from"./AdminLayout-B_CM-dYP.js";import{P as x}from"./PrimaryButton-CUjMCzjb.js";import{D as v}from"./DangerButton-CX23CiXx.js";function S({fundraisings:r,filters:g}){const[s,h]=n.useState(g.search||""),[u,a]=n.useState(!1),[d,i]=n.useState(null),y=t=>{t.preventDefault(),c.get("/admin/fundraisings",{search:s},{preserveState:!0})},f=t=>{i(t),a(!0)},b=()=>{d&&c.delete(`/admin/fundraisings/${d.id}`,{onSuccess:()=>{a(!1),i(null)}})},m=t=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(t),o=t=>new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return e.jsxs(p,{header:"Fundraising Management",children:[e.jsx(j,{title:"Fundraising Management"}),e.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsx("form",{onSubmit:y,className:"flex-1 max-w-md",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:s,onChange:t=>h(t.target.value),placeholder:"Search campaigns...",className:"flex-1 rounded-md border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),e.jsx(x,{type:"submit",children:"Search"})]})}),e.jsx(l,{href:"/admin/fundraisings/create",children:e.jsxs(x,{children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Campaign"]})})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:r.data.length>0?r.data.map(t=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-sm rounded-lg overflow-hidden",children:[t.image&&e.jsx("img",{src:`/uploads/${t.image}`,alt:t.title,className:"w-full h-48 object-cover"}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t.title}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${t.is_active?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`,children:t.is_active?"Active":"Inactive"})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4 line-clamp-2",children:t.description}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Progress"}),e.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[Math.min(t.current_amount/t.goal_amount*100,100).toFixed(0),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:`${Math.min(t.current_amount/t.goal_amount*100,100)}%`}})}),e.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[e.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[m(t.current_amount)," raised"]}),e.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:["of ",m(t.goal_amount)]})]})]}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-4",children:[e.jsxs("div",{children:["Start: ",o(t.start_date)]}),t.end_date&&e.jsxs("div",{children:["End: ",o(t.end_date)]})]}),e.jsxs("div",{className:"flex gap-2 pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsx(l,{href:`/admin/fundraisings/${t.id}/edit`,className:"flex-1 text-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700",children:"Edit"}),e.jsx("button",{onClick:()=>f(t),className:"px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-md hover:bg-red-700",children:"Delete"})]})]})]},t.id)):e.jsx("div",{className:"col-span-2 text-center py-12 bg-white dark:bg-gray-800 rounded-lg",children:e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No campaigns found. Create your first fundraising campaign to get started."})})}),r.last_page>1&&e.jsx("div",{className:"mt-6 bg-white dark:bg-gray-800 px-4 py-3 rounded-lg shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Showing page ",r.current_page," of ",r.last_page]}),e.jsxs("div",{className:"flex gap-2",children:[r.current_page>1&&e.jsx(l,{href:`/admin/fundraisings?page=${r.current_page-1}${s?`&search=${s}`:""}`,className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Previous"}),r.current_page<r.last_page&&e.jsx(l,{href:`/admin/fundraisings?page=${r.current_page+1}${s?`&search=${s}`:""}`,className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Next"})]})]})}),u&&d&&e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>a(!1)}),e.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen",children:"â€‹"}),e.jsxs("div",{className:"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:e.jsxs("div",{className:"sm:flex sm:items-start",children:[e.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 dark:bg-red-900 sm:mx-0 sm:h-10 sm:w-10",children:e.jsx("svg",{className:"h-6 w-6 text-red-600 dark:text-red-200",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-white",children:"Delete Campaign"}),e.jsx("div",{className:"mt-2",children:e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:['Are you sure you want to delete "',d.title,'"? This action cannot be undone.']})})]})]})}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[e.jsx(v,{onClick:b,className:"w-full sm:w-auto sm:ml-3",children:"Delete"}),e.jsx("button",{type:"button",onClick:()=>a(!1),className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 dark:border-gray-600 shadow-sm px-4 py-2 bg-white dark:bg-gray-800 text-base font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 sm:mt-0 sm:w-auto sm:text-sm",children:"Cancel"})]})]})]})})]})}export{S as default};
