import{r as p,j as e,H as b,L as l,a as s}from"./app-B4a05hli.js";import{A as v}from"./AdminLayout-CMXVHSXY.js";import{P as k}from"./PrimaryButton-Bnz9EaBr.js";import{T as N,e as w}from"./exportHelpers-l-wS5ybN.js";import"./TextInput-v8U4WSyD.js";const S={pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",approved:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",rejected:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"};function R({auth:C,graduates:a,departments:n,totalGraduates:o,filters:c={}}){const[x,m]=p.useState(c.search||""),[d,h]=p.useState(c.department||""),u=t=>{m(t),s.get(route("admin.graduates.index"),{search:t,department:d},{preserveState:!0})},i=t=>{h(t),s.get(route("admin.graduates.index"),{search:x,department:t},{preserveState:!0})},g=()=>{m(""),h(""),s.get(route("admin.graduates.index"))},y=()=>{const t=a.data.map(r=>({name:r.name,year:r.year,course:r.course,department:r.department?.name||"N/A",current_work:r.current_work,status:r.status||"pending"}));w(t,["name","year","course","department","current_work","status"],"graduates")},j=t=>{confirm("Are you sure you want to delete this graduate record?")&&s.delete(route("admin.graduates.destroy",t))},f=(t,r)=>{s.patch(route("admin.graduates.updateStatus",t),{status:r})};return e.jsxs(v,{header:"Graduates/Tracer Records",children:[e.jsx(b,{title:"Graduates/Tracer Records"}),e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Graduates/Tracer Records"}),e.jsx(l,{href:route("admin.graduates.create"),children:e.jsx(k,{children:"Add Graduate Record"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e.jsx("div",{onClick:()=>i(""),className:`bg-gradient-to-br from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700 rounded-lg shadow-lg p-6 cursor-pointer transition-transform hover:scale-105 ${d?"":"ring-4 ring-blue-300"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-100",children:"Total Alumni"}),e.jsx("p",{className:"text-3xl font-bold text-white mt-2",children:o})]}),e.jsx("div",{className:"bg-blue-400 bg-opacity-30 rounded-full p-3",children:e.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})})]})}),n.slice(0,3).map(t=>e.jsx("div",{onClick:()=>i(t.id.toString()),className:`bg-gradient-to-br from-indigo-500 to-indigo-600 dark:from-indigo-600 dark:to-indigo-700 rounded-lg shadow-lg p-6 cursor-pointer transition-transform hover:scale-105 ${d===t.id.toString()?"ring-4 ring-indigo-300":""}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-indigo-100",children:t.name}),e.jsx("p",{className:"text-3xl font-bold text-white mt-2",children:t.graduates_count})]}),e.jsx("div",{className:"bg-indigo-400 bg-opacity-30 rounded-full p-3",children:e.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})})]})},t.id))]}),n.length>3&&e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Filter by Department"}),e.jsxs("select",{value:d,onChange:t=>i(t.target.value),className:"w-full md:w-1/3 rounded-md border-gray-300 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[e.jsxs("option",{value:"",children:["All Departments (",o,")"]}),n.map(t=>e.jsxs("option",{value:t.id,children:[t.name," (",t.graduates_count,")"]},t.id))]})]}),e.jsx(N,{searchValue:x,onSearchChange:u,searchPlaceholder:"Search by name, course, or current work...",onExport:y,onClear:g}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:"Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:"Year"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:"Course"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:"Department"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:"Current Work"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:a.data.map(t=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium",children:t.name})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:t.year}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:t.course}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:t.department?.name||"N/A"}),e.jsx("td",{className:"px-6 py-4 text-sm",children:t.current_work}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("select",{value:t.status||"pending",onChange:r=>f(t.id,r.target.value),className:`px-2 py-1 text-xs font-semibold rounded-full ${S[t.status||"pending"]}`,children:[e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"rejected",children:"Rejected"})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(l,{href:route("admin.graduates.edit",t.id),className:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400",children:"Edit"}),e.jsx("button",{onClick:()=>j(t.id),className:"text-red-600 hover:text-red-900 dark:text-red-400",children:"Delete"})]})})]},t.id))})]})}),a.last_page>1&&e.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[e.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Showing ",a.data.length," of ",a.total," records"]}),e.jsx("div",{className:"flex gap-2",children:Array.from({length:a.last_page},(t,r)=>r+1).map(t=>e.jsx(l,{href:route("admin.graduates.index",{page:t}),className:`px-3 py-1 rounded ${t===a.current_page?"bg-indigo-600 text-white":"bg-gray-200 dark:bg-gray-700"}`,children:t},t))})]})]})}export{R as default};
