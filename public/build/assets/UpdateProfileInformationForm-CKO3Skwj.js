import{b as p,u as y,j as e,L as k}from"./app-CcfqBKCv.js";import{I as o}from"./InputError-ZzhNFIaE.js";import{T as d}from"./TextInput-CZrZwYgj.js";import{K as f}from"./transition-BwcKgkme.js";function _({mustVerifyEmail:m,status:i}){const{auth:c,departments:u}=p().props,r=c.user,x=r?.role==="graduate",{data:t,setData:s,patch:g,errors:l,processing:n,recentlySuccessful:h}=y({name:r.name,email:r.email,phone:r.phone||"",year:r.year||"",course:r.course||"",current_work:r.current_work||"",department_id:r.department_id||""}),b=a=>{a.preventDefault(),g(route("profile.update"))};return e.jsxs("section",{children:[e.jsxs("header",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Profile Information"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Update your account's profile information and email address."})]}),e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-900 dark:text-gray-200 mb-2",children:"Full Name"}),e.jsx(d,{id:"name",className:"block w-full dark:bg-gray-900 dark:border-gray-700 dark:text-white",value:t.name,onChange:a=>s("name",a.target.value),required:!0,isFocused:!0,autoComplete:"name"}),e.jsx(o,{className:"mt-2",message:l.name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-900 dark:text-gray-200 mb-2",children:"Email Address"}),e.jsx(d,{id:"email",type:"email",className:"block w-full dark:bg-gray-900 dark:border-gray-700 dark:text-white",value:t.email,onChange:a=>s("email",a.target.value),required:!0,autoComplete:"username"}),e.jsx(o,{className:"mt-2",message:l.email})]}),x&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-900 dark:text-gray-200 mb-2",children:"Phone Number"}),e.jsx(d,{id:"phone",type:"tel",className:"block w-full dark:bg-gray-900 dark:border-gray-700 dark:text-white",value:t.phone,onChange:a=>s("phone",a.target.value),placeholder:"+63 123 456 7890"}),e.jsx(o,{className:"mt-2",message:l.phone})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"year",className:"block text-sm font-medium text-gray-900 dark:text-gray-200 mb-2",children:"Graduation Year"}),e.jsx(d,{id:"year",type:"number",className:"block w-full dark:bg-gray-900 dark:border-gray-700 dark:text-white",value:t.year,onChange:a=>s("year",a.target.value),placeholder:"2024"}),e.jsx(o,{className:"mt-2",message:l.year})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"department_id",className:"block text-sm font-medium text-gray-900 dark:text-gray-200 mb-2",children:"Department"}),e.jsxs("select",{id:"department_id",value:t.department_id,onChange:a=>s("department_id",a.target.value),className:"block w-full dark:bg-gray-900 dark:border-gray-700 dark:text-white rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select Department"}),u?.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]}),e.jsx(o,{className:"mt-2",message:l.department_id})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"course",className:"block text-sm font-medium text-gray-900 dark:text-gray-200 mb-2",children:"Course/Degree"}),e.jsx(d,{id:"course",type:"text",className:"block w-full dark:bg-gray-900 dark:border-gray-700 dark:text-white",value:t.course,onChange:a=>s("course",a.target.value),placeholder:"e.g., BS Computer Science"}),e.jsx(o,{className:"mt-2",message:l.course})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"current_work",className:"block text-sm font-medium text-gray-900 dark:text-gray-200 mb-2",children:"Current Employment"}),e.jsx(d,{id:"current_work",type:"text",className:"block w-full dark:bg-gray-900 dark:border-gray-700 dark:text-white",value:t.current_work,onChange:a=>s("current_work",a.target.value),placeholder:"Company name or status"}),e.jsx(o,{className:"mt-2",message:l.current_work})]})]}),m&&r.email_verified_at===null&&e.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:[e.jsxs("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:["Your email address is unverified."," ",e.jsx(k,{href:route("verification.send"),method:"post",as:"button",className:"font-medium underline hover:no-underline",children:"Click here to re-send the verification email."})]}),i==="verification-link-sent"&&e.jsx("div",{className:"mt-2 text-sm font-medium text-green-600 dark:text-green-400",children:"A new verification link has been sent to your email address."})]}),e.jsxs("div",{className:"flex items-center gap-4 pt-4",children:[e.jsx("button",{type:"submit",disabled:n,className:"px-6 py-2.5 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Saving...":"Save Changes"}),e.jsx(f,{show:h,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e.jsx("p",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:"âœ“ Saved successfully"})})]})]})]})}export{_ as default};
